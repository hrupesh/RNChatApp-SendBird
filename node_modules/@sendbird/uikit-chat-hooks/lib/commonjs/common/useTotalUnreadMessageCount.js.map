{"version":3,"names":["HOOK_NAME","useTotalUnreadMessageCount","sdk","options","id","useUniqId","unreadMessageCount","setUnreadMessageCount","useState","useAsyncEffect","unreadCount","groupChannel","getTotalUnreadMessageCount","superChannelFilter","SuperChannelFilter","ALL","params","channelCustomTypesFilter","useUserEventHandler","onTotalUnreadMessageCountUpdated","totalCount","truncatedCount","maxCount"],"sources":["useTotalUnreadMessageCount.ts"],"sourcesContent":["import { useState } from 'react';\n\nimport { SuperChannelFilter, TotalUnreadMessageCountParams } from '@sendbird/chat/groupChannel';\nimport type { SendbirdChatSDK } from '@sendbird/uikit-utils';\nimport { truncatedCount, useAsyncEffect, useUniqId } from '@sendbird/uikit-utils';\n\nimport { useUserEventHandler } from '../handler/useUserEventHandler';\n\ntype Options = {\n  params?: TotalUnreadMessageCountParams;\n  maxCount?: number;\n};\n\nconst HOOK_NAME = 'useTotalUnreadMessageCount';\nexport const useTotalUnreadMessageCount = (sdk: SendbirdChatSDK, options?: Options) => {\n  const id = useUniqId(HOOK_NAME);\n  const [unreadMessageCount, setUnreadMessageCount] = useState(0);\n\n  useAsyncEffect(async () => {\n    const unreadCount = await sdk.groupChannel.getTotalUnreadMessageCount({\n      superChannelFilter: SuperChannelFilter.ALL,\n      ...options?.params,\n    });\n    setUnreadMessageCount(unreadCount);\n  }, [sdk, options?.params?.superChannelFilter, options?.params?.channelCustomTypesFilter]);\n\n  useUserEventHandler(sdk, `${HOOK_NAME}_${id}`, {\n    onTotalUnreadMessageCountUpdated: (totalCount: number) => setUnreadMessageCount(totalCount),\n  });\n\n  return truncatedCount(unreadMessageCount, options?.maxCount);\n};\n"],"mappings":";;;;;;;AAAA;;AAEA;;AAEA;;AAEA;;AAOA,MAAMA,SAAS,GAAG,4BAAlB;;AACO,MAAMC,0BAA0B,GAAG,CAACC,GAAD,EAAuBC,OAAvB,KAA6C;EAAA;;EACrF,MAAMC,EAAE,GAAG,IAAAC,qBAAA,EAAUL,SAAV,CAAX;EACA,MAAM,CAACM,kBAAD,EAAqBC,qBAArB,IAA8C,IAAAC,eAAA,EAAS,CAAT,CAApD;EAEA,IAAAC,0BAAA,EAAe,YAAY;IACzB,MAAMC,WAAW,GAAG,MAAMR,GAAG,CAACS,YAAJ,CAAiBC,0BAAjB,CAA4C;MACpEC,kBAAkB,EAAEC,gCAAA,CAAmBC,GAD6B;MAEpE,IAAGZ,OAAH,aAAGA,OAAH,uBAAGA,OAAO,CAAEa,MAAZ;IAFoE,CAA5C,CAA1B;IAIAT,qBAAqB,CAACG,WAAD,CAArB;EACD,CAND,EAMG,CAACR,GAAD,EAAMC,OAAN,aAAMA,OAAN,0CAAMA,OAAO,CAAEa,MAAf,oDAAM,gBAAiBH,kBAAvB,EAA2CV,OAA3C,aAA2CA,OAA3C,2CAA2CA,OAAO,CAAEa,MAApD,qDAA2C,iBAAiBC,wBAA5D,CANH;EAQA,IAAAC,wCAAA,EAAoBhB,GAApB,EAA0B,GAAEF,SAAU,IAAGI,EAAG,EAA5C,EAA+C;IAC7Ce,gCAAgC,EAAGC,UAAD,IAAwBb,qBAAqB,CAACa,UAAD;EADlC,CAA/C;EAIA,OAAO,IAAAC,0BAAA,EAAef,kBAAf,EAAmCH,OAAnC,aAAmCA,OAAnC,uBAAmCA,OAAO,CAAEmB,QAA5C,CAAP;AACD,CAjBM"}