{"version":3,"names":["PushTriggerMap","PushTriggerOption","ALL","MENTION_ONLY","OFF","DEFAULT","usePushTrigger","sdk","option","setOption","useState","updateOption","useCallback","value","_option","setPushTriggerOption","then","e","Logger","warn","currentUser","useAsyncEffect","getPushTriggerOption"],"sources":["usePushTrigger.ts"],"sourcesContent":["import { useCallback, useState } from 'react';\n\nimport { PushTriggerOption } from '@sendbird/chat';\nimport type { SendbirdChatSDK } from '@sendbird/uikit-utils';\nimport { Logger, useAsyncEffect } from '@sendbird/uikit-utils';\n\nconst PushTriggerMap = {\n  'all': PushTriggerOption.ALL,\n  'mention_only': PushTriggerOption.MENTION_ONLY,\n  'off': PushTriggerOption.OFF,\n  'default': PushTriggerOption.DEFAULT,\n};\n\nexport const usePushTrigger = (sdk: SendbirdChatSDK) => {\n  const [option, setOption] = useState<PushTriggerOption>(PushTriggerOption.DEFAULT);\n\n  const updateOption = useCallback(\n    async (value: keyof typeof PushTriggerMap) => {\n      try {\n        const _option = PushTriggerMap[value];\n        await sdk.setPushTriggerOption(_option).then(() => setOption(_option));\n      } catch (e) {\n        Logger.warn('[usePushTrigger]', 'Cannot update push trigger option', e);\n      }\n    },\n    [sdk, sdk.currentUser],\n  );\n\n  useAsyncEffect(async () => {\n    setOption(await sdk.getPushTriggerOption());\n  }, [sdk, sdk.currentUser]);\n\n  return {\n    option,\n    updateOption,\n  };\n};\n"],"mappings":";;;;;;;AAAA;;AAEA;;AAEA;;AAEA,MAAMA,cAAc,GAAG;EACrB,OAAOC,uBAAA,CAAkBC,GADJ;EAErB,gBAAgBD,uBAAA,CAAkBE,YAFb;EAGrB,OAAOF,uBAAA,CAAkBG,GAHJ;EAIrB,WAAWH,uBAAA,CAAkBI;AAJR,CAAvB;;AAOO,MAAMC,cAAc,GAAIC,GAAD,IAA0B;EACtD,MAAM,CAACC,MAAD,EAASC,SAAT,IAAsB,IAAAC,eAAA,EAA4BT,uBAAA,CAAkBI,OAA9C,CAA5B;EAEA,MAAMM,YAAY,GAAG,IAAAC,kBAAA,EACnB,MAAOC,KAAP,IAA8C;IAC5C,IAAI;MACF,MAAMC,OAAO,GAAGd,cAAc,CAACa,KAAD,CAA9B;MACA,MAAMN,GAAG,CAACQ,oBAAJ,CAAyBD,OAAzB,EAAkCE,IAAlC,CAAuC,MAAMP,SAAS,CAACK,OAAD,CAAtD,CAAN;IACD,CAHD,CAGE,OAAOG,CAAP,EAAU;MACVC,kBAAA,CAAOC,IAAP,CAAY,kBAAZ,EAAgC,mCAAhC,EAAqEF,CAArE;IACD;EACF,CARkB,EASnB,CAACV,GAAD,EAAMA,GAAG,CAACa,WAAV,CATmB,CAArB;EAYA,IAAAC,0BAAA,EAAe,YAAY;IACzBZ,SAAS,CAAC,MAAMF,GAAG,CAACe,oBAAJ,EAAP,CAAT;EACD,CAFD,EAEG,CAACf,GAAD,EAAMA,GAAG,CAACa,WAAV,CAFH;EAIA,OAAO;IACLZ,MADK;IAELG;EAFK,CAAP;AAID,CAvBM"}