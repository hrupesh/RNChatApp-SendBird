{"version":3,"names":["useCallback","useState","PushTriggerOption","Logger","useAsyncEffect","PushTriggerMap","ALL","MENTION_ONLY","OFF","DEFAULT","usePushTrigger","sdk","option","setOption","updateOption","value","_option","setPushTriggerOption","then","e","warn","currentUser","getPushTriggerOption"],"sources":["usePushTrigger.ts"],"sourcesContent":["import { useCallback, useState } from 'react';\n\nimport { PushTriggerOption } from '@sendbird/chat';\nimport type { SendbirdChatSDK } from '@sendbird/uikit-utils';\nimport { Logger, useAsyncEffect } from '@sendbird/uikit-utils';\n\nconst PushTriggerMap = {\n  'all': PushTriggerOption.ALL,\n  'mention_only': PushTriggerOption.MENTION_ONLY,\n  'off': PushTriggerOption.OFF,\n  'default': PushTriggerOption.DEFAULT,\n};\n\nexport const usePushTrigger = (sdk: SendbirdChatSDK) => {\n  const [option, setOption] = useState<PushTriggerOption>(PushTriggerOption.DEFAULT);\n\n  const updateOption = useCallback(\n    async (value: keyof typeof PushTriggerMap) => {\n      try {\n        const _option = PushTriggerMap[value];\n        await sdk.setPushTriggerOption(_option).then(() => setOption(_option));\n      } catch (e) {\n        Logger.warn('[usePushTrigger]', 'Cannot update push trigger option', e);\n      }\n    },\n    [sdk, sdk.currentUser],\n  );\n\n  useAsyncEffect(async () => {\n    setOption(await sdk.getPushTriggerOption());\n  }, [sdk, sdk.currentUser]);\n\n  return {\n    option,\n    updateOption,\n  };\n};\n"],"mappings":"AAAA,SAASA,WAAT,EAAsBC,QAAtB,QAAsC,OAAtC;AAEA,SAASC,iBAAT,QAAkC,gBAAlC;AAEA,SAASC,MAAT,EAAiBC,cAAjB,QAAuC,uBAAvC;AAEA,MAAMC,cAAc,GAAG;EACrB,OAAOH,iBAAiB,CAACI,GADJ;EAErB,gBAAgBJ,iBAAiB,CAACK,YAFb;EAGrB,OAAOL,iBAAiB,CAACM,GAHJ;EAIrB,WAAWN,iBAAiB,CAACO;AAJR,CAAvB;AAOA,OAAO,MAAMC,cAAc,GAAIC,GAAD,IAA0B;EACtD,MAAM,CAACC,MAAD,EAASC,SAAT,IAAsBZ,QAAQ,CAAoBC,iBAAiB,CAACO,OAAtC,CAApC;EAEA,MAAMK,YAAY,GAAGd,WAAW,CAC9B,MAAOe,KAAP,IAA8C;IAC5C,IAAI;MACF,MAAMC,OAAO,GAAGX,cAAc,CAACU,KAAD,CAA9B;MACA,MAAMJ,GAAG,CAACM,oBAAJ,CAAyBD,OAAzB,EAAkCE,IAAlC,CAAuC,MAAML,SAAS,CAACG,OAAD,CAAtD,CAAN;IACD,CAHD,CAGE,OAAOG,CAAP,EAAU;MACVhB,MAAM,CAACiB,IAAP,CAAY,kBAAZ,EAAgC,mCAAhC,EAAqED,CAArE;IACD;EACF,CAR6B,EAS9B,CAACR,GAAD,EAAMA,GAAG,CAACU,WAAV,CAT8B,CAAhC;EAYAjB,cAAc,CAAC,YAAY;IACzBS,SAAS,CAAC,MAAMF,GAAG,CAACW,oBAAJ,EAAP,CAAT;EACD,CAFa,EAEX,CAACX,GAAD,EAAMA,GAAG,CAACU,WAAV,CAFW,CAAd;EAIA,OAAO;IACLT,MADK;IAELE;EAFK,CAAP;AAID,CAvBM"}