{"version":3,"names":["RegexText","children","patterns","props","length","matchedTexts","forEach","patterIndex","regex","replacer","matchedTextsTemp","concat","offset","text","index","replaceWithRegex","params","parentProps","keyPrefix","String","splice"],"sources":["index.tsx"],"sourcesContent":["import React from 'react';\n\nimport { replaceWithRegex } from '@sendbird/uikit-utils';\n\nimport Text, { TextProps } from '../Text';\n\ninterface Pattern {\n  regex: RegExp;\n  replacer(params: {\n    match: string;\n    groups: string[];\n    index: number;\n    keyPrefix: string;\n    parentProps?: TextProps;\n  }): string | JSX.Element;\n}\n\ntype Props = { patterns: Pattern[] } & TextProps;\n\nconst RegexText = ({ children, patterns, ...props }: Props) => {\n  if (patterns.length === 0 || typeof children !== 'string') return <>{children}</>;\n\n  const matchedTexts: Array<string | JSX.Element> = [children];\n\n  patterns.forEach(({ regex, replacer }, patterIndex) => {\n    const matchedTextsTemp = matchedTexts.concat();\n    let offset = 0;\n    matchedTextsTemp.forEach((text, index) => {\n      if (typeof text === 'string' && text) {\n        const children = replaceWithRegex(\n          text,\n          regex,\n          (params) => replacer({ ...params, parentProps: props, keyPrefix: index + params.keyPrefix }),\n          String(patterIndex),\n        );\n\n        if (children.length > 1) {\n          matchedTexts.splice(index + offset, 1, ...children);\n          offset += children.length - 1;\n        }\n      }\n    });\n  });\n\n  return <Text {...props}>{matchedTexts}</Text>;\n};\n\nexport default RegexText;\n"],"mappings":";;;;;;;AAAA;;AAEA;;AAEA;;;;AAeA,MAAMA,SAAS,GAAG,QAA6C;EAAA,IAA5C;IAAEC,QAAF;IAAYC,QAAZ;IAAsB,GAAGC;EAAzB,CAA4C;EAC7D,IAAID,QAAQ,CAACE,MAAT,KAAoB,CAApB,IAAyB,OAAOH,QAAP,KAAoB,QAAjD,EAA2D,oBAAO,4DAAGA,QAAH,CAAP;EAE3D,MAAMI,YAAyC,GAAG,CAACJ,QAAD,CAAlD;EAEAC,QAAQ,CAACI,OAAT,CAAiB,QAAsBC,WAAtB,KAAsC;IAAA,IAArC;MAAEC,KAAF;MAASC;IAAT,CAAqC;IACrD,MAAMC,gBAAgB,GAAGL,YAAY,CAACM,MAAb,EAAzB;IACA,IAAIC,MAAM,GAAG,CAAb;IACAF,gBAAgB,CAACJ,OAAjB,CAAyB,CAACO,IAAD,EAAOC,KAAP,KAAiB;MACxC,IAAI,OAAOD,IAAP,KAAgB,QAAhB,IAA4BA,IAAhC,EAAsC;QACpC,MAAMZ,QAAQ,GAAG,IAAAc,4BAAA,EACfF,IADe,EAEfL,KAFe,EAGdQ,MAAD,IAAYP,QAAQ,CAAC,EAAE,GAAGO,MAAL;UAAaC,WAAW,EAAEd,KAA1B;UAAiCe,SAAS,EAAEJ,KAAK,GAAGE,MAAM,CAACE;QAA3D,CAAD,CAHL,EAIfC,MAAM,CAACZ,WAAD,CAJS,CAAjB;;QAOA,IAAIN,QAAQ,CAACG,MAAT,GAAkB,CAAtB,EAAyB;UACvBC,YAAY,CAACe,MAAb,CAAoBN,KAAK,GAAGF,MAA5B,EAAoC,CAApC,EAAuC,GAAGX,QAA1C;UACAW,MAAM,IAAIX,QAAQ,CAACG,MAAT,GAAkB,CAA5B;QACD;MACF;IACF,CAdD;EAeD,CAlBD;EAoBA,oBAAO,6BAAC,aAAD,EAAUD,KAAV,EAAkBE,YAAlB,CAAP;AACD,CA1BD;;eA4BeL,S"}