{"version":3,"names":["SCALE_FACTOR_WITH_STR","val","DEFAULT_SCALE_FACTOR","preProcessor","preProcessorKeys","Object","keys","preProcessorLen","length","createStyleSheet","styles","values","forEach","style","styleKeys","styleLen","key","StyleSheet","create"],"sources":["createStyleSheet.ts"],"sourcesContent":["import { ImageStyle, StyleSheet, TextStyle, ViewStyle } from 'react-native';\n\nimport { DEFAULT_SCALE_FACTOR } from './createScaleFactor';\n\ntype Styles = ViewStyle | TextStyle | ImageStyle;\ntype StylePreprocessor<T extends Styles = Styles> = { [key in keyof T]: (val: NonNullable<T[key]>) => typeof val };\n\nconst SCALE_FACTOR_WITH_STR = (val: string | number) => (typeof val === 'string' ? val : DEFAULT_SCALE_FACTOR(val));\n\nconst preProcessor: Partial<StylePreprocessor> = {\n  'fontSize': DEFAULT_SCALE_FACTOR,\n  'lineHeight': DEFAULT_SCALE_FACTOR,\n  'borderRadius': DEFAULT_SCALE_FACTOR,\n  'minWidth': SCALE_FACTOR_WITH_STR,\n  'maxWidth': SCALE_FACTOR_WITH_STR,\n  'minHeight': SCALE_FACTOR_WITH_STR,\n  'maxHeight': SCALE_FACTOR_WITH_STR,\n  'height': SCALE_FACTOR_WITH_STR,\n  'width': SCALE_FACTOR_WITH_STR,\n  'padding': SCALE_FACTOR_WITH_STR,\n  'paddingTop': SCALE_FACTOR_WITH_STR,\n  'paddingBottom': SCALE_FACTOR_WITH_STR,\n  'paddingLeft': SCALE_FACTOR_WITH_STR,\n  'paddingRight': SCALE_FACTOR_WITH_STR,\n  'margin': SCALE_FACTOR_WITH_STR,\n  'marginTop': SCALE_FACTOR_WITH_STR,\n  'marginBottom': SCALE_FACTOR_WITH_STR,\n  'marginLeft': SCALE_FACTOR_WITH_STR,\n  'marginRight': SCALE_FACTOR_WITH_STR,\n  'left': SCALE_FACTOR_WITH_STR,\n  'right': SCALE_FACTOR_WITH_STR,\n  'top': SCALE_FACTOR_WITH_STR,\n  'bottom': SCALE_FACTOR_WITH_STR,\n};\n\nconst preProcessorKeys = Object.keys(preProcessor);\nconst preProcessorLen = preProcessorKeys.length;\n\n/**\n * Create StyleSheet with customized pre-processor\n * Return a StyleSheet that pre-processed\n * @param styles\n * @returns StyleSheet\n * */\nconst createStyleSheet = <T extends StyleSheet.NamedStyles<T>>(styles: T | StyleSheet.NamedStyles<T>): T => {\n  Object.values(styles).forEach((style) => {\n    // @ts-ignore\n    const styleKeys = Object.keys(style);\n    const styleLen = styleKeys.length;\n\n    const keys = styleLen < preProcessorLen ? styleKeys : preProcessorKeys;\n    keys.forEach((key) => {\n      // @ts-ignore\n      if (preProcessor[key] && typeof style[key] !== 'undefined') style[key] = preProcessor[key](style[key]);\n    });\n  });\n\n  return StyleSheet.create<T>(styles);\n};\n\nexport default createStyleSheet;\n"],"mappings":";;;;;;;AAAA;;AAEA;;AAKA,MAAMA,qBAAqB,GAAIC,GAAD,IAA2B,OAAOA,GAAP,KAAe,QAAf,GAA0BA,GAA1B,GAAgC,IAAAC,uCAAA,EAAqBD,GAArB,CAAzF;;AAEA,MAAME,YAAwC,GAAG;EAC/C,YAAYD,uCADmC;EAE/C,cAAcA,uCAFiC;EAG/C,gBAAgBA,uCAH+B;EAI/C,YAAYF,qBAJmC;EAK/C,YAAYA,qBALmC;EAM/C,aAAaA,qBANkC;EAO/C,aAAaA,qBAPkC;EAQ/C,UAAUA,qBARqC;EAS/C,SAASA,qBATsC;EAU/C,WAAWA,qBAVoC;EAW/C,cAAcA,qBAXiC;EAY/C,iBAAiBA,qBAZ8B;EAa/C,eAAeA,qBAbgC;EAc/C,gBAAgBA,qBAd+B;EAe/C,UAAUA,qBAfqC;EAgB/C,aAAaA,qBAhBkC;EAiB/C,gBAAgBA,qBAjB+B;EAkB/C,cAAcA,qBAlBiC;EAmB/C,eAAeA,qBAnBgC;EAoB/C,QAAQA,qBApBuC;EAqB/C,SAASA,qBArBsC;EAsB/C,OAAOA,qBAtBwC;EAuB/C,UAAUA;AAvBqC,CAAjD;AA0BA,MAAMI,gBAAgB,GAAGC,MAAM,CAACC,IAAP,CAAYH,YAAZ,CAAzB;AACA,MAAMI,eAAe,GAAGH,gBAAgB,CAACI,MAAzC;AAEA;AACA;AACA;AACA;AACA;AACA;;AACA,MAAMC,gBAAgB,GAAyCC,MAAtC,IAAmF;EAC1GL,MAAM,CAACM,MAAP,CAAcD,MAAd,EAAsBE,OAAtB,CAA+BC,KAAD,IAAW;IACvC;IACA,MAAMC,SAAS,GAAGT,MAAM,CAACC,IAAP,CAAYO,KAAZ,CAAlB;IACA,MAAME,QAAQ,GAAGD,SAAS,CAACN,MAA3B;IAEA,MAAMF,IAAI,GAAGS,QAAQ,GAAGR,eAAX,GAA6BO,SAA7B,GAAyCV,gBAAtD;IACAE,IAAI,CAACM,OAAL,CAAcI,GAAD,IAAS;MACpB;MACA,IAAIb,YAAY,CAACa,GAAD,CAAZ,IAAqB,OAAOH,KAAK,CAACG,GAAD,CAAZ,KAAsB,WAA/C,EAA4DH,KAAK,CAACG,GAAD,CAAL,GAAab,YAAY,CAACa,GAAD,CAAZ,CAAkBH,KAAK,CAACG,GAAD,CAAvB,CAAb;IAC7D,CAHD;EAID,CAVD;EAYA,OAAOC,uBAAA,CAAWC,MAAX,CAAqBR,MAArB,CAAP;AACD,CAdD;;eAgBeD,gB"}