{"version":3,"names":["getAndroidStoragePermissionsByAPILevel","permissionModule","Platform","OS","Version","PERMISSIONS","ANDROID","READ_MEDIA_AUDIO","READ_MEDIA_IMAGES","READ_MEDIA_VIDEO","READ_EXTERNAL_STORAGE","WRITE_EXTERNAL_STORAGE","createNativeFileService","imagePickerModule","documentPickerModule","mediaLibraryModule","fsModule","cameraPermissions","select","ios","IOS","CAMERA","MICROPHONE","android","default","mediaLibraryPermissions","MEDIA_LIBRARY","PHOTO_LIBRARY","NativeFileService","hasCameraPermission","status","checkMultiple","nativePermissionGranted","requestCameraPermission","requestMultiple","hasMediaLibraryPermission","requestMediaLibraryPermission","openCamera","options","hasPermission","granted","onOpenFailure","SBUError","PERMISSIONS_DENIED","response","launchCamera","presentationStyle","cameraType","mediaType","didCancel","errorCode","DEVICE_UNAVAILABLE","Error","errorMessage","fileName","name","fileSize","size","type","uri","assets","fileTypeGuard","openMediaLibrary","selectionLimit","launchImageLibrary","slice","map","openDocument","pickSingle","e","isCancel","isInProgress","UNKNOWN","save","basePath","Dirs","CacheDir","DocumentDir","downloadPath","getFileExtension","extensionFromUrl","fileUrl","getFileType","match","FileSystem","fetch","path","fileType","dirType","cpExternal","normalizeFileName"],"sources":["createFileService.native.ts"],"sourcesContent":["import type { CameraRoll } from '@react-native-camera-roll/camera-roll';\nimport { Platform } from 'react-native';\nimport type * as DocumentPicker from 'react-native-document-picker';\nimport type * as FileAccess from 'react-native-file-access';\nimport type * as ImagePicker from 'react-native-image-picker';\nimport type * as Permissions from 'react-native-permissions';\nimport type { Permission } from 'react-native-permissions';\n\nimport { getFileExtension, getFileType, normalizeFileName } from '@sendbird/uikit-utils';\n\nimport SBUError from '../libs/SBUError';\nimport fileTypeGuard from '../utils/fileTypeGuard';\nimport nativePermissionGranted from '../utils/nativePermissionGranted';\nimport type {\n  FilePickerResponse,\n  FileServiceInterface,\n  OpenCameraOptions,\n  OpenDocumentOptions,\n  OpenMediaLibraryOptions,\n  SaveOptions,\n} from './types';\n\nfunction getAndroidStoragePermissionsByAPILevel(permissionModule: typeof Permissions): Permission[] {\n  if (Platform.OS !== 'android') return [];\n\n  if (Platform.Version > 32) {\n    return [\n      permissionModule.PERMISSIONS.ANDROID.READ_MEDIA_AUDIO,\n      permissionModule.PERMISSIONS.ANDROID.READ_MEDIA_IMAGES,\n      permissionModule.PERMISSIONS.ANDROID.READ_MEDIA_VIDEO,\n    ];\n  }\n\n  if (Platform.Version > 28) {\n    return [permissionModule.PERMISSIONS.ANDROID.READ_EXTERNAL_STORAGE];\n  }\n\n  return [\n    permissionModule.PERMISSIONS.ANDROID.WRITE_EXTERNAL_STORAGE,\n    permissionModule.PERMISSIONS.ANDROID.READ_EXTERNAL_STORAGE,\n  ];\n}\n\nconst createNativeFileService = ({\n  imagePickerModule,\n  documentPickerModule,\n  permissionModule,\n  mediaLibraryModule,\n  fsModule,\n}: {\n  imagePickerModule: typeof ImagePicker;\n  documentPickerModule: typeof DocumentPicker;\n  permissionModule: typeof Permissions;\n  mediaLibraryModule: typeof CameraRoll;\n  fsModule: typeof FileAccess;\n}): FileServiceInterface => {\n  const cameraPermissions: Permission[] = Platform.select({\n    ios: [permissionModule.PERMISSIONS.IOS.CAMERA, permissionModule.PERMISSIONS.IOS.MICROPHONE],\n    android: [permissionModule.PERMISSIONS.ANDROID.CAMERA],\n    default: [],\n  });\n  const mediaLibraryPermissions: Permission[] = Platform.select({\n    ios: [permissionModule.PERMISSIONS.IOS.MEDIA_LIBRARY, permissionModule.PERMISSIONS.IOS.PHOTO_LIBRARY],\n    android: getAndroidStoragePermissionsByAPILevel(permissionModule),\n    default: [],\n  });\n\n  class NativeFileService implements FileServiceInterface {\n    async hasCameraPermission(): Promise<boolean> {\n      const status = await permissionModule.checkMultiple(cameraPermissions);\n      return nativePermissionGranted(status);\n    }\n    async requestCameraPermission(): Promise<boolean> {\n      const status = await permissionModule.requestMultiple(cameraPermissions);\n      return nativePermissionGranted(status);\n    }\n    async hasMediaLibraryPermission(): Promise<boolean> {\n      const status = await permissionModule.checkMultiple(mediaLibraryPermissions);\n      return nativePermissionGranted(status);\n    }\n    async requestMediaLibraryPermission(): Promise<boolean> {\n      const status = await permissionModule.requestMultiple(mediaLibraryPermissions);\n      return nativePermissionGranted(status);\n    }\n\n    async openCamera(options?: OpenCameraOptions): Promise<FilePickerResponse> {\n      const hasPermission = await this.hasCameraPermission();\n      if (!hasPermission) {\n        const granted = await this.requestCameraPermission();\n        if (!granted) {\n          options?.onOpenFailure?.(SBUError.PERMISSIONS_DENIED);\n          return null;\n        }\n      }\n\n      const response = await imagePickerModule.launchCamera({\n        presentationStyle: 'fullScreen',\n        cameraType: options?.cameraType ?? 'back',\n        mediaType: (() => {\n          switch (options?.mediaType) {\n            case 'photo':\n              return 'photo';\n            case 'video':\n              return 'video';\n            case 'all':\n              return 'mixed';\n            default:\n              return 'photo';\n          }\n        })(),\n      });\n      if (response.didCancel) return null;\n      if (response.errorCode === 'camera_unavailable') {\n        options?.onOpenFailure?.(SBUError.DEVICE_UNAVAILABLE, new Error(response.errorMessage));\n        return null;\n      }\n\n      const { fileName: name, fileSize: size, type, uri } = response.assets?.[0] ?? {};\n      return fileTypeGuard({ uri, size, name, type });\n    }\n    async openMediaLibrary(options?: OpenMediaLibraryOptions): Promise<FilePickerResponse[] | null> {\n      /**\n       * NOTE: options.selectionLimit {@link https://github.com/react-native-image-picker/react-native-image-picker#options}\n       * We do not support 0 (any number of files)\n       **/\n      const selectionLimit = options?.selectionLimit || 1;\n      const hasPermission = await this.hasMediaLibraryPermission();\n      if (!hasPermission) {\n        const granted = await this.requestMediaLibraryPermission();\n        if (!granted) {\n          options?.onOpenFailure?.(SBUError.PERMISSIONS_DENIED);\n          return null;\n        }\n      }\n\n      const response = await imagePickerModule.launchImageLibrary({\n        presentationStyle: 'fullScreen',\n        selectionLimit,\n        mediaType: (() => {\n          switch (options?.mediaType) {\n            case 'photo':\n              return 'photo';\n            case 'video':\n              return 'video';\n            case 'all':\n              return 'mixed';\n            default:\n              return 'photo';\n          }\n        })(),\n      });\n      if (response.didCancel) return null;\n      if (response.errorCode === 'camera_unavailable') {\n        options?.onOpenFailure?.(SBUError.DEVICE_UNAVAILABLE, new Error(response.errorMessage));\n        return null;\n      }\n\n      return (response.assets || [])\n        .slice(0, selectionLimit)\n        .map(({ fileName: name, fileSize: size, type, uri }) => fileTypeGuard({ uri, size, name, type }));\n    }\n    async openDocument(options?: OpenDocumentOptions): Promise<FilePickerResponse> {\n      try {\n        const { uri, size, name, type } = await documentPickerModule.pickSingle();\n        return fileTypeGuard({ uri, size, name, type });\n      } catch (e) {\n        if (!documentPickerModule.isCancel(e) && documentPickerModule.isInProgress(e)) {\n          options?.onOpenFailure?.(SBUError.UNKNOWN, e);\n        }\n        return null;\n      }\n    }\n    async save(options: SaveOptions): Promise<string> {\n      const hasPermission = await this.hasMediaLibraryPermission();\n      if (!hasPermission) {\n        const granted = await this.requestMediaLibraryPermission();\n        if (!granted) throw new Error('Permission not granted');\n      }\n\n      const basePath = Platform.select({ android: fsModule.Dirs.CacheDir, default: fsModule.Dirs.DocumentDir });\n      let downloadPath = `${basePath}/${options.fileName}`;\n      if (!getFileExtension(options.fileName)) {\n        const extensionFromUrl = getFileExtension(options.fileUrl);\n        if (getFileType(extensionFromUrl).match(/image|video/)) {\n          downloadPath += extensionFromUrl;\n        }\n      }\n\n      await fsModule.FileSystem.fetch(options.fileUrl, { path: downloadPath });\n      const fileType = getFileType(getFileExtension(options.fileUrl));\n\n      if (Platform.OS === 'ios' && (fileType === 'image' || fileType === 'video')) {\n        const type = ({ 'image': 'photo', 'video': 'video' } as const)[fileType];\n        await mediaLibraryModule.save(downloadPath, { type });\n      }\n\n      if (Platform.OS === 'android') {\n        const dirType = { 'file': 'downloads', 'audio': 'audio', 'image': 'images', 'video': 'video' } as const;\n        await fsModule.FileSystem.cpExternal(\n          downloadPath,\n          normalizeFileName(options.fileName, getFileExtension(options.fileUrl)),\n          dirType[fileType],\n        );\n      }\n      return downloadPath;\n    }\n  }\n\n  return new NativeFileService();\n};\n\nexport default createNativeFileService;\n"],"mappings":"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"}