{"version":3,"names":["GroupChannelContexts","Fragment","createContext","headerTitle","channel","setMessageToEdit","NOOP","TypingIndicator","typingUsers","GroupChannelContextsProvider","children","enableTypingIndicator","keyboardAvoidOffset","Error","id","useUniqId","STRINGS","useLocalization","currentUser","sdk","useSendbirdChat","setTypingUsers","useState","messageToEdit","useChannelHandler","onTypingStatusUpdated","eventChannel","isDifferentChannel","getTypingUsers","GROUP_CHANNEL","HEADER_TITLE","userId"],"sources":["moduleContext.tsx"],"sourcesContent":["import React, { createContext, useState } from 'react';\n\nimport { useChannelHandler } from '@sendbird/uikit-chat-hooks';\nimport {\n  NOOP,\n  SendbirdFileMessage,\n  SendbirdGroupChannel,\n  SendbirdUser,\n  SendbirdUserMessage,\n  isDifferentChannel,\n  useUniqId,\n} from '@sendbird/uikit-utils';\n\nimport ProviderLayout from '../../../components/ProviderLayout';\nimport { useLocalization, useSendbirdChat } from '../../../hooks/useContext';\nimport type { GroupChannelContextsType, GroupChannelModule } from '../types';\n\nexport const GroupChannelContexts: GroupChannelContextsType = {\n  Fragment: createContext({\n    headerTitle: '',\n    channel: {} as SendbirdGroupChannel,\n    setMessageToEdit: NOOP,\n  }),\n  TypingIndicator: createContext({\n    typingUsers: [] as SendbirdUser[],\n  }),\n};\n\nexport const GroupChannelContextsProvider: GroupChannelModule['Provider'] = ({\n  children,\n  channel,\n  enableTypingIndicator,\n  keyboardAvoidOffset = 0,\n}) => {\n  if (!channel) throw new Error('GroupChannel is not provided to GroupChannelModule');\n\n  const id = useUniqId('GroupChannelContextsProvider');\n  const { STRINGS } = useLocalization();\n  const { currentUser, sdk } = useSendbirdChat();\n\n  const [typingUsers, setTypingUsers] = useState<SendbirdUser[]>([]);\n  const [messageToEdit, setMessageToEdit] = useState<SendbirdUserMessage | SendbirdFileMessage>();\n\n  useChannelHandler(sdk, `GroupChannelContextsProvider_${id}`, {\n    onTypingStatusUpdated(eventChannel) {\n      if (isDifferentChannel(channel, eventChannel)) return;\n      if (!enableTypingIndicator) return;\n      setTypingUsers(eventChannel.getTypingUsers());\n    },\n  });\n\n  return (\n    <ProviderLayout>\n      <GroupChannelContexts.Fragment.Provider\n        value={{\n          headerTitle: STRINGS.GROUP_CHANNEL.HEADER_TITLE(currentUser?.userId ?? '', channel),\n          channel,\n          messageToEdit,\n          setMessageToEdit,\n          keyboardAvoidOffset,\n        }}\n      >\n        <GroupChannelContexts.TypingIndicator.Provider value={{ typingUsers }}>\n          {children}\n        </GroupChannelContexts.TypingIndicator.Provider>\n      </GroupChannelContexts.Fragment.Provider>\n    </ProviderLayout>\n  );\n};\n"],"mappings":";;;;;;;AAAA;;AAEA;;AACA;;AAUA;;AACA;;;;;;;;AAGO,MAAMA,oBAA8C,GAAG;EAC5DC,QAAQ,eAAE,IAAAC,oBAAA,EAAc;IACtBC,WAAW,EAAE,EADS;IAEtBC,OAAO,EAAE,EAFa;IAGtBC,gBAAgB,EAAEC;EAHI,CAAd,CADkD;EAM5DC,eAAe,eAAE,IAAAL,oBAAA,EAAc;IAC7BM,WAAW,EAAE;EADgB,CAAd;AAN2C,CAAvD;;;AAWA,MAAMC,4BAA4D,GAAG,QAKtE;EAAA,IALuE;IAC3EC,QAD2E;IAE3EN,OAF2E;IAG3EO,qBAH2E;IAI3EC,mBAAmB,GAAG;EAJqD,CAKvE;EACJ,IAAI,CAACR,OAAL,EAAc,MAAM,IAAIS,KAAJ,CAAU,oDAAV,CAAN;EAEd,MAAMC,EAAE,GAAG,IAAAC,qBAAA,EAAU,8BAAV,CAAX;EACA,MAAM;IAAEC;EAAF,IAAc,IAAAC,2BAAA,GAApB;EACA,MAAM;IAAEC,WAAF;IAAeC;EAAf,IAAuB,IAAAC,2BAAA,GAA7B;EAEA,MAAM,CAACZ,WAAD,EAAca,cAAd,IAAgC,IAAAC,eAAA,EAAyB,EAAzB,CAAtC;EACA,MAAM,CAACC,aAAD,EAAgBlB,gBAAhB,IAAoC,IAAAiB,eAAA,GAA1C;EAEA,IAAAE,iCAAA,EAAkBL,GAAlB,EAAwB,gCAA+BL,EAAG,EAA1D,EAA6D;IAC3DW,qBAAqB,CAACC,YAAD,EAAe;MAClC,IAAI,IAAAC,8BAAA,EAAmBvB,OAAnB,EAA4BsB,YAA5B,CAAJ,EAA+C;MAC/C,IAAI,CAACf,qBAAL,EAA4B;MAC5BU,cAAc,CAACK,YAAY,CAACE,cAAb,EAAD,CAAd;IACD;;EAL0D,CAA7D;EAQA,oBACE,6BAAC,uBAAD,qBACE,6BAAC,oBAAD,CAAsB,QAAtB,CAA+B,QAA/B;IACE,KAAK,EAAE;MACLzB,WAAW,EAAEa,OAAO,CAACa,aAAR,CAAsBC,YAAtB,CAAmC,CAAAZ,WAAW,SAAX,IAAAA,WAAW,WAAX,YAAAA,WAAW,CAAEa,MAAb,KAAuB,EAA1D,EAA8D3B,OAA9D,CADR;MAELA,OAFK;MAGLmB,aAHK;MAILlB,gBAJK;MAKLO;IALK;EADT,gBASE,6BAAC,oBAAD,CAAsB,eAAtB,CAAsC,QAAtC;IAA+C,KAAK,EAAE;MAAEJ;IAAF;EAAtD,GACGE,QADH,CATF,CADF,CADF;AAiBD,CAxCM"}