{"version":3,"names":["createGroupChannelBannedUsersFragment","initModule","GroupChannelBannedUsersModule","createGroupChannelBannedUsersModule","onPressHeaderLeft","NOOP","channel","renderUser","STRINGS","useLocalization","currentUser","sdk","useSendbirdChat","openMenu","useActionMenu","users","deleteUser","loading","next","refresh","error","useUserList","queryCreator","createBannedUserListQuery","limit","_renderUser","useFreshCallback","props","user","profileUrl","nickname","LABELS","USER_NO_NAME","userId","USER_BAR_ME_POSTFIX","title","menuItems","UNBAN","onPress","unbanUser","then","Boolean"],"sources":["createGroupChannelBannedUsersFragment.tsx"],"sourcesContent":["import React from 'react';\n\nimport { useUserList } from '@sendbird/uikit-chat-hooks';\nimport { useActionMenu } from '@sendbird/uikit-react-native-foundation';\nimport { NOOP, useFreshCallback } from '@sendbird/uikit-utils';\n\nimport StatusComposition from '../components/StatusComposition';\nimport UserActionBar from '../components/UserActionBar';\nimport { createGroupChannelBannedUsersModule } from '../domain/groupChannelBannedUsers';\nimport type {\n  GroupChannelBannedUsersFragment,\n  GroupChannelBannedUsersModule,\n} from '../domain/groupChannelBannedUsers/types';\nimport { useLocalization, useSendbirdChat } from '../hooks/useContext';\n\nconst createGroupChannelBannedUsersFragment = (\n  initModule?: Partial<GroupChannelBannedUsersModule>,\n): GroupChannelBannedUsersFragment => {\n  const GroupChannelBannedUsersModule = createGroupChannelBannedUsersModule(initModule);\n\n  return ({ onPressHeaderLeft = NOOP, channel, renderUser }) => {\n    const { STRINGS } = useLocalization();\n    const { currentUser, sdk } = useSendbirdChat();\n    const { openMenu } = useActionMenu();\n\n    const { users, deleteUser, loading, next, refresh, error } = useUserList(sdk, {\n      queryCreator: () => channel.createBannedUserListQuery({ limit: 20 }),\n    });\n\n    const _renderUser: NonNullable<typeof renderUser> = useFreshCallback((props) => {\n      if (renderUser) return renderUser(props);\n\n      const { user } = props;\n\n      return (\n        <UserActionBar\n          muted={false}\n          uri={user.profileUrl}\n          name={\n            (user.nickname || STRINGS.LABELS.USER_NO_NAME) +\n            (user.userId === currentUser?.userId ? STRINGS.LABELS.USER_BAR_ME_POSTFIX : '')\n          }\n          disabled={user.userId === currentUser?.userId}\n          onPressActionMenu={() => {\n            openMenu({\n              title: user.nickname || STRINGS.LABELS.USER_NO_NAME,\n              menuItems: [\n                {\n                  title: STRINGS.LABELS.UNBAN,\n                  onPress: () => channel.unbanUser(user).then(() => deleteUser(user.userId)),\n                },\n              ],\n            });\n          }}\n        />\n      );\n    });\n\n    return (\n      <GroupChannelBannedUsersModule.Provider channel={channel}>\n        <GroupChannelBannedUsersModule.Header onPressHeaderLeft={onPressHeaderLeft} />\n        <StatusComposition\n          loading={loading}\n          LoadingComponent={<GroupChannelBannedUsersModule.StatusLoading />}\n          error={Boolean(error)}\n          ErrorComponent={<GroupChannelBannedUsersModule.StatusError onPressRetry={refresh} />}\n        >\n          <GroupChannelBannedUsersModule.List\n            bannedUsers={users}\n            renderUser={_renderUser}\n            ListEmptyComponent={<GroupChannelBannedUsersModule.StatusEmpty />}\n            onLoadNext={next}\n          />\n        </StatusComposition>\n      </GroupChannelBannedUsersModule.Provider>\n    );\n  };\n};\n\nexport default createGroupChannelBannedUsersFragment;\n"],"mappings":";;;;;;;AAAA;;AAEA;;AACA;;AACA;;AAEA;;AACA;;AACA;;AAKA;;;;AAEA,MAAMA,qCAAqC,GACzCC,UAD4C,IAER;EACpC,MAAMC,6BAA6B,GAAG,IAAAC,4DAAA,EAAoCF,UAApC,CAAtC;EAEA,OAAO,QAAuD;IAAA,IAAtD;MAAEG,iBAAiB,GAAGC,gBAAtB;MAA4BC,OAA5B;MAAqCC;IAArC,CAAsD;IAC5D,MAAM;MAAEC;IAAF,IAAc,IAAAC,2BAAA,GAApB;IACA,MAAM;MAAEC,WAAF;MAAeC;IAAf,IAAuB,IAAAC,2BAAA,GAA7B;IACA,MAAM;MAAEC;IAAF,IAAe,IAAAC,yCAAA,GAArB;IAEA,MAAM;MAAEC,KAAF;MAASC,UAAT;MAAqBC,OAArB;MAA8BC,IAA9B;MAAoCC,OAApC;MAA6CC;IAA7C,IAAuD,IAAAC,2BAAA,EAAYV,GAAZ,EAAiB;MAC5EW,YAAY,EAAE,MAAMhB,OAAO,CAACiB,yBAAR,CAAkC;QAAEC,KAAK,EAAE;MAAT,CAAlC;IADwD,CAAjB,CAA7D;;IAIA,MAAMC,WAA2C,GAAG,IAAAC,4BAAA,EAAkBC,KAAD,IAAW;MAC9E,IAAIpB,UAAJ,EAAgB,OAAOA,UAAU,CAACoB,KAAD,CAAjB;MAEhB,MAAM;QAAEC;MAAF,IAAWD,KAAjB;MAEA,oBACE,6BAAC,sBAAD;QACE,KAAK,EAAE,KADT;QAEE,GAAG,EAAEC,IAAI,CAACC,UAFZ;QAGE,IAAI,EACF,CAACD,IAAI,CAACE,QAAL,IAAiBtB,OAAO,CAACuB,MAAR,CAAeC,YAAjC,KACCJ,IAAI,CAACK,MAAL,MAAgBvB,WAAhB,aAAgBA,WAAhB,uBAAgBA,WAAW,CAAEuB,MAA7B,IAAsCzB,OAAO,CAACuB,MAAR,CAAeG,mBAArD,GAA2E,EAD5E,CAJJ;QAOE,QAAQ,EAAEN,IAAI,CAACK,MAAL,MAAgBvB,WAAhB,aAAgBA,WAAhB,uBAAgBA,WAAW,CAAEuB,MAA7B,CAPZ;QAQE,iBAAiB,EAAE,MAAM;UACvBpB,QAAQ,CAAC;YACPsB,KAAK,EAAEP,IAAI,CAACE,QAAL,IAAiBtB,OAAO,CAACuB,MAAR,CAAeC,YADhC;YAEPI,SAAS,EAAE,CACT;cACED,KAAK,EAAE3B,OAAO,CAACuB,MAAR,CAAeM,KADxB;cAEEC,OAAO,EAAE,MAAMhC,OAAO,CAACiC,SAAR,CAAkBX,IAAlB,EAAwBY,IAAxB,CAA6B,MAAMxB,UAAU,CAACY,IAAI,CAACK,MAAN,CAA7C;YAFjB,CADS;UAFJ,CAAD,CAAR;QASD;MAlBH,EADF;IAsBD,CA3BmD,CAApD;;IA6BA,oBACE,6BAAC,6BAAD,CAA+B,QAA/B;MAAwC,OAAO,EAAE3B;IAAjD,gBACE,6BAAC,6BAAD,CAA+B,MAA/B;MAAsC,iBAAiB,EAAEF;IAAzD,EADF,eAEE,6BAAC,0BAAD;MACE,OAAO,EAAEa,OADX;MAEE,gBAAgB,eAAE,6BAAC,6BAAD,CAA+B,aAA/B,OAFpB;MAGE,KAAK,EAAEwB,OAAO,CAACrB,KAAD,CAHhB;MAIE,cAAc,eAAE,6BAAC,6BAAD,CAA+B,WAA/B;QAA2C,YAAY,EAAED;MAAzD;IAJlB,gBAME,6BAAC,6BAAD,CAA+B,IAA/B;MACE,WAAW,EAAEJ,KADf;MAEE,UAAU,EAAEU,WAFd;MAGE,kBAAkB,eAAE,6BAAC,6BAAD,CAA+B,WAA/B,OAHtB;MAIE,UAAU,EAAEP;IAJd,EANF,CAFF,CADF;EAkBD,CAxDD;AAyDD,CA9DD;;eAgEelB,qC"}