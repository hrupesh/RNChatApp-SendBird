{"version":3,"names":["NetInfo","SBUDynamicModule","get","SendbirdUIKit","Object","freeze","VERSION","PLATFORM","Platform","OS","toLowerCase","DEFAULT","AUTO_PUSH_TOKEN_REGISTRATION","CHANNEL_LIST_TYPING_INDICATOR","CHANNEL_LIST_MESSAGE_RECEIPT_STATUS","USE_USER_ID_FOR_NICKNAME","USER_MENTION","IMAGE_COMPRESSION","SendbirdUIKitContainer","children","appId","chatOptions","platformServices","localization","styles","errorBoundary","toast","userProfile","userMention","imageCompression","defaultStringSet","stringSet","StringSetEn","isFirstMount","useIsFirstMount","unsubscribes","useRef","internalStorage","useMemo","localCacheStorage","InternalLocalCacheStorage","undefined","sdkInstance","setSdkInstance","useState","sendbird","initializeSendbird","onInitialized","current","chatSDK","emojiManager","EmojiManager","mentionManager","config","MentionConfig","mentionLimit","MENTION_LIMIT","suggestionLimit","SUGGESTION_LIMIT","debounceMills","DEBOUNCE_MILLS","delimiter","DELIMITER","trigger","TRIGGER","MentionManager","enableUserMention","imageCompressionConfig","ImageCompressionConfig","compressionRate","COMPRESSION_RATE","width","height","useLayoutEffect","forEach","u","enableAutoPushTokenRegistration","enableChannelListTypingIndicator","enableChannelListMessageReceiptStatus","enableUseUserIdForNickname","enableImageCompression","file","notification","clipboard","media","theme","LightUIKitTheme","HeaderComponent","Header","defaultHeaderTitleAlign","statusBarTranslucent","dismissTimeout","onCreateChannel","onBeforeCreateChannel","value","STRINGS","alert","ok","DIALOG","ALERT_DEFAULT_OK","prompt","PROMPT_DEFAULT_OK","cancel","PROMPT_DEFAULT_CANCEL","placeholder","PROMPT_DEFAULT_PLACEHOLDER","Sendbird","init","modules","GroupChannelModule","OpenChannelModule","localCacheEnabled","Boolean","useAsyncStorageStore","newInstance","addExtension","addEventListener","listener","callback","callbackType","unsubscribe","state","online","isConnected","isInternetReachable","push","setOnlineListener","onOnline","setOfflineListener","onOffline"],"sources":["SendbirdUIKitContainer.tsx"],"sourcesContent":["import React, { useLayoutEffect, useMemo, useRef, useState } from 'react';\nimport { Platform } from 'react-native';\nimport { SafeAreaProvider } from 'react-native-safe-area-context';\n\nimport Sendbird from '@sendbird/chat';\nimport { GroupChannelModule } from '@sendbird/chat/groupChannel';\nimport { OpenChannelModule } from '@sendbird/chat/openChannel';\nimport type { HeaderStyleContextType, UIKitTheme } from '@sendbird/uikit-react-native-foundation';\nimport {\n  DialogProvider,\n  Header,\n  HeaderStyleProvider,\n  LightUIKitTheme,\n  ToastProvider,\n  UIKitThemeProvider,\n} from '@sendbird/uikit-react-native-foundation';\nimport type {\n  SendbirdBaseChannel,\n  SendbirdChatSDK,\n  SendbirdGroupChannelCreateParams,\n  SendbirdMember,\n  SendbirdUser,\n} from '@sendbird/uikit-utils';\nimport { useIsFirstMount } from '@sendbird/uikit-utils';\n\nimport { LocalizationContext, LocalizationProvider } from '../contexts/LocalizationCtx';\nimport { PlatformServiceProvider } from '../contexts/PlatformServiceCtx';\nimport { ReactionProvider } from '../contexts/ReactionCtx';\nimport type { UIKitFeaturesInSendbirdChatContext } from '../contexts/SendbirdChatCtx';\nimport { SendbirdChatProvider } from '../contexts/SendbirdChatCtx';\nimport { UserProfileProvider } from '../contexts/UserProfileCtx';\nimport EmojiManager from '../libs/EmojiManager';\nimport type { ImageCompressionConfigInterface } from '../libs/ImageCompressionConfig';\nimport ImageCompressionConfig from '../libs/ImageCompressionConfig';\nimport InternalLocalCacheStorage from '../libs/InternalLocalCacheStorage';\nimport MentionConfig, { MentionConfigInterface } from '../libs/MentionConfig';\nimport MentionManager from '../libs/MentionManager';\nimport StringSetEn from '../localization/StringSet.en';\nimport type { StringSet } from '../localization/StringSet.type';\nimport SBUDynamicModule from '../platform/dynamicModule';\nimport type {\n  ClipboardServiceInterface,\n  FileServiceInterface,\n  MediaServiceInterface,\n  NotificationServiceInterface,\n} from '../platform/types';\nimport type { ErrorBoundaryProps, LocalCacheStorage } from '../types';\nimport VERSION from '../version';\nimport InternalErrorBoundaryContainer from './InternalErrorBoundaryContainer';\n\nconst NetInfo = SBUDynamicModule.get('@react-native-community/netinfo', 'warn');\n\nexport const SendbirdUIKit = Object.freeze({\n  VERSION,\n  PLATFORM: Platform.OS.toLowerCase(),\n  DEFAULT: {\n    AUTO_PUSH_TOKEN_REGISTRATION: true,\n    CHANNEL_LIST_TYPING_INDICATOR: false,\n    CHANNEL_LIST_MESSAGE_RECEIPT_STATUS: false,\n    USE_USER_ID_FOR_NICKNAME: false,\n    USER_MENTION: false,\n    IMAGE_COMPRESSION: true,\n  },\n});\n\nexport type SendbirdUIKitContainerProps = React.PropsWithChildren<{\n  appId: string;\n  platformServices: {\n    file: FileServiceInterface;\n    notification: NotificationServiceInterface;\n    clipboard: ClipboardServiceInterface;\n    media: MediaServiceInterface;\n  };\n  chatOptions?: {\n    localCacheStorage?: LocalCacheStorage;\n    onInitialized?: (sdkInstance: SendbirdChatSDK) => SendbirdChatSDK;\n  } & Partial<UIKitFeaturesInSendbirdChatContext>;\n  localization?: {\n    stringSet?: StringSet;\n  };\n  styles?: {\n    theme?: UIKitTheme;\n    statusBarTranslucent?: boolean;\n    defaultHeaderTitleAlign?: 'left' | 'center';\n    defaultHeaderHeight?: number;\n    HeaderComponent?: HeaderStyleContextType['HeaderComponent'];\n  };\n  errorBoundary?: {\n    onError?: (props: ErrorBoundaryProps) => void;\n    ErrorInfoComponent?: (props: ErrorBoundaryProps) => JSX.Element;\n  };\n  toast?: {\n    dismissTimeout?: number;\n  };\n  userProfile?: {\n    onCreateChannel: (channel: SendbirdBaseChannel) => void;\n    onBeforeCreateChannel?: (\n      channelParams: SendbirdGroupChannelCreateParams,\n      users: SendbirdUser[] | SendbirdMember[],\n    ) => SendbirdGroupChannelCreateParams | Promise<SendbirdGroupChannelCreateParams>;\n  };\n  userMention?: Pick<Partial<MentionConfigInterface>, 'mentionLimit' | 'suggestionLimit' | 'debounceMills'>;\n  imageCompression?: Partial<ImageCompressionConfigInterface>;\n}>;\n\nconst SendbirdUIKitContainer = ({\n  children,\n  appId,\n  chatOptions,\n  platformServices,\n  localization,\n  styles,\n  errorBoundary,\n  toast,\n  userProfile,\n  userMention,\n  imageCompression,\n}: SendbirdUIKitContainerProps) => {\n  const defaultStringSet = localization?.stringSet ?? StringSetEn;\n\n  const isFirstMount = useIsFirstMount();\n  const unsubscribes = useRef<Array<() => void>>([]);\n  const internalStorage = useMemo(\n    () => (chatOptions?.localCacheStorage ? new InternalLocalCacheStorage(chatOptions.localCacheStorage) : undefined),\n    [chatOptions?.localCacheStorage],\n  );\n\n  const [sdkInstance, setSdkInstance] = useState<SendbirdChatSDK>(() => {\n    const sendbird = initializeSendbird(appId, internalStorage, chatOptions?.onInitialized);\n    unsubscribes.current = sendbird.unsubscribes;\n    return sendbird.chatSDK;\n  });\n\n  const emojiManager = useMemo(() => new EmojiManager(internalStorage), [internalStorage]);\n\n  const mentionManager = useMemo(() => {\n    const config = new MentionConfig({\n      mentionLimit: userMention?.mentionLimit || MentionConfig.DEFAULT.MENTION_LIMIT,\n      suggestionLimit: userMention?.suggestionLimit || MentionConfig.DEFAULT.SUGGESTION_LIMIT,\n      debounceMills: userMention?.debounceMills ?? MentionConfig.DEFAULT.DEBOUNCE_MILLS,\n      delimiter: MentionConfig.DEFAULT.DELIMITER,\n      trigger: MentionConfig.DEFAULT.TRIGGER,\n    });\n    return new MentionManager(config, chatOptions?.enableUserMention ?? SendbirdUIKit.DEFAULT.USER_MENTION);\n  }, [userMention?.mentionLimit, userMention?.suggestionLimit, userMention?.debounceMills]);\n\n  const imageCompressionConfig = useMemo(\n    () =>\n      new ImageCompressionConfig({\n        compressionRate: imageCompression?.compressionRate || ImageCompressionConfig.DEFAULT.COMPRESSION_RATE,\n        width: imageCompression?.width,\n        height: imageCompression?.height,\n      }),\n    [imageCompression?.compressionRate, imageCompression?.width, imageCompression?.height],\n  );\n\n  useLayoutEffect(() => {\n    if (!isFirstMount) {\n      const sendbird = initializeSendbird(appId, internalStorage, chatOptions?.onInitialized);\n      setSdkInstance(sendbird.chatSDK);\n      unsubscribes.current = sendbird.unsubscribes;\n    }\n\n    return () => {\n      if (!isFirstMount) {\n        unsubscribes.current.forEach((u) => {\n          try {\n            u();\n          } catch {}\n        });\n      }\n    };\n  }, [appId, internalStorage]);\n\n  return (\n    <SafeAreaProvider>\n      <SendbirdChatProvider\n        sdkInstance={sdkInstance}\n        emojiManager={emojiManager}\n        mentionManager={mentionManager}\n        imageCompressionConfig={imageCompressionConfig}\n        enableAutoPushTokenRegistration={\n          chatOptions?.enableAutoPushTokenRegistration ?? SendbirdUIKit.DEFAULT.AUTO_PUSH_TOKEN_REGISTRATION\n        }\n        enableChannelListTypingIndicator={\n          chatOptions?.enableChannelListTypingIndicator ?? SendbirdUIKit.DEFAULT.CHANNEL_LIST_TYPING_INDICATOR\n        }\n        enableChannelListMessageReceiptStatus={\n          chatOptions?.enableChannelListMessageReceiptStatus ??\n          SendbirdUIKit.DEFAULT.CHANNEL_LIST_MESSAGE_RECEIPT_STATUS\n        }\n        enableUseUserIdForNickname={\n          chatOptions?.enableUseUserIdForNickname ?? SendbirdUIKit.DEFAULT.USE_USER_ID_FOR_NICKNAME\n        }\n        enableUserMention={chatOptions?.enableUserMention ?? SendbirdUIKit.DEFAULT.USER_MENTION}\n        enableImageCompression={chatOptions?.enableImageCompression ?? SendbirdUIKit.DEFAULT.IMAGE_COMPRESSION}\n      >\n        <LocalizationProvider stringSet={defaultStringSet}>\n          <PlatformServiceProvider\n            fileService={platformServices.file}\n            notificationService={platformServices.notification}\n            clipboardService={platformServices.clipboard}\n            mediaService={platformServices.media}\n          >\n            <UIKitThemeProvider theme={styles?.theme ?? LightUIKitTheme}>\n              <HeaderStyleProvider\n                HeaderComponent={styles?.HeaderComponent ?? Header}\n                defaultTitleAlign={styles?.defaultHeaderTitleAlign ?? 'left'}\n                statusBarTranslucent={styles?.statusBarTranslucent ?? true}\n              >\n                <ToastProvider dismissTimeout={toast?.dismissTimeout}>\n                  <UserProfileProvider\n                    onCreateChannel={userProfile?.onCreateChannel}\n                    onBeforeCreateChannel={userProfile?.onBeforeCreateChannel}\n                  >\n                    <ReactionProvider>\n                      <LocalizationContext.Consumer>\n                        {(value) => {\n                          const STRINGS = value?.STRINGS || defaultStringSet;\n                          return (\n                            <DialogProvider\n                              defaultLabels={{\n                                alert: { ok: STRINGS.DIALOG.ALERT_DEFAULT_OK },\n                                prompt: {\n                                  ok: STRINGS.DIALOG.PROMPT_DEFAULT_OK,\n                                  cancel: STRINGS.DIALOG.PROMPT_DEFAULT_CANCEL,\n                                  placeholder: STRINGS.DIALOG.PROMPT_DEFAULT_PLACEHOLDER,\n                                },\n                              }}\n                            >\n                              <InternalErrorBoundaryContainer {...errorBoundary}>\n                                {children}\n                              </InternalErrorBoundaryContainer>\n                            </DialogProvider>\n                          );\n                        }}\n                      </LocalizationContext.Consumer>\n                    </ReactionProvider>\n                  </UserProfileProvider>\n                </ToastProvider>\n              </HeaderStyleProvider>\n            </UIKitThemeProvider>\n          </PlatformServiceProvider>\n        </LocalizationProvider>\n      </SendbirdChatProvider>\n    </SafeAreaProvider>\n  );\n};\n\nconst initializeSendbird = (\n  appId: string,\n  internalStorage?: InternalLocalCacheStorage,\n  onInitialized?: (sdk: SendbirdChatSDK) => SendbirdChatSDK,\n) => {\n  const unsubscribes: Array<() => void> = [];\n  let chatSDK: SendbirdChatSDK;\n\n  chatSDK = Sendbird.init({\n    appId,\n    modules: [new GroupChannelModule(), new OpenChannelModule()],\n    localCacheEnabled: Boolean(internalStorage),\n    useAsyncStorageStore: internalStorage as never,\n    newInstance: true,\n  });\n\n  if (onInitialized) {\n    chatSDK = onInitialized(chatSDK);\n  }\n\n  if (SendbirdUIKit.VERSION) {\n    chatSDK.addExtension('sb_uikit', SendbirdUIKit.VERSION);\n  }\n\n  if (SendbirdUIKit.PLATFORM) {\n    chatSDK.addExtension('device-os-platform', SendbirdUIKit.PLATFORM);\n  }\n\n  if (NetInfo?.addEventListener) {\n    const listener = (callback: () => void, callbackType: 'online' | 'offline') => {\n      const unsubscribe = NetInfo.addEventListener((state) => {\n        const online = Boolean(state.isConnected) || Boolean(state.isInternetReachable);\n        if (online && callbackType === 'online') callback();\n        if (!online && callbackType === 'offline') callback();\n      });\n      unsubscribes.push(unsubscribe);\n      return unsubscribe;\n    };\n    chatSDK.setOnlineListener?.((onOnline) => listener(onOnline, 'online'));\n    chatSDK.setOfflineListener?.((onOffline) => listener(onOffline, 'offline'));\n  }\n  return { chatSDK, unsubscribes };\n};\n\nexport default SendbirdUIKitContainer;\n"],"mappings":"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"}