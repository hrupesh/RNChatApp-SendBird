{"version":3,"names":["NUM_COLUMN","ReactionListBottomSheet","visible","onClose","onDismiss","reactionCtx","chatCtx","width","useWindowDimensions","bottom","left","right","useSafeAreaInsets","colors","useUIKitTheme","currentUser","emojiManager","channel","message","color","ui","reaction","default","Boolean","styles","modal","container","paddingBottom","backgroundColor","dialog","none","background","paddingLeft","paddingHorizontal","paddingRight","allEmoji","item","key","flatlist","height","url","reactedUserIds","reactions","find","it","userIds","idx","indexOf","userId","UNKNOWN_USER_ID","reacted","emojiItem","deleteReaction","addReaction","pressed","button","selected","enabled","uri","emoji","createStyleSheet","overflow","borderTopLeftRadius","borderTopRightRadius","paddingTop","flexDirection","alignItems","justifyContent","padding","borderRadius"],"sources":["ReactionListBottomSheet.tsx"],"sourcesContent":["import React from 'react';\nimport { FlatList, Pressable, View, useWindowDimensions } from 'react-native';\nimport { useSafeAreaInsets } from 'react-native-safe-area-context';\n\nimport { Image, Modal, createStyleSheet, useUIKitTheme } from '@sendbird/uikit-react-native-foundation';\n\nimport { UNKNOWN_USER_ID } from '../../constants';\nimport type { ReactionBottomSheetProps } from './index';\n\nconst NUM_COLUMN = 6;\nconst ReactionListBottomSheet = ({ visible, onClose, onDismiss, reactionCtx, chatCtx }: ReactionBottomSheetProps) => {\n  const { width } = useWindowDimensions();\n  const { bottom, left, right } = useSafeAreaInsets();\n  const { colors } = useUIKitTheme();\n\n  const { currentUser, emojiManager } = chatCtx;\n  const { channel, message } = reactionCtx;\n  const color = colors.ui.reaction.default;\n\n  return (\n    <Modal\n      type={'slide'}\n      visible={Boolean(visible && channel && message)}\n      onClose={onClose}\n      onDismiss={onDismiss}\n      backgroundStyle={styles.modal}\n    >\n      <View\n        style={[\n          styles.container,\n          {\n            width,\n            paddingBottom: bottom,\n            backgroundColor: colors.ui.dialog.default.none.background,\n            paddingLeft: left + styles.container.paddingHorizontal,\n            paddingRight: right + styles.container.paddingHorizontal,\n          },\n        ]}\n      >\n        <FlatList\n          data={emojiManager.allEmoji}\n          numColumns={NUM_COLUMN}\n          keyExtractor={(item) => item.key}\n          contentContainerStyle={styles.flatlist}\n          ItemSeparatorComponent={() => <View style={{ height: 16 }} />}\n          renderItem={({ item: { key, url } }) => {\n            const reactedUserIds = message?.reactions?.find((it) => it.key === key)?.userIds ?? [];\n\n            const idx = reactedUserIds.indexOf(currentUser?.userId ?? UNKNOWN_USER_ID);\n            const reacted = idx > -1;\n\n            return (\n              <View style={styles.emojiItem}>\n                <Pressable\n                  key={key}\n                  onPress={() => {\n                    if (message && channel) {\n                      if (reacted) channel.deleteReaction(message, key);\n                      else channel.addReaction(message, key);\n                    }\n                    onClose();\n                  }}\n                  style={({ pressed }) => [\n                    styles.button,\n                    { backgroundColor: reacted || pressed ? color.selected.background : color.enabled.background },\n                  ]}\n                >\n                  <Image source={{ uri: url }} style={styles.emoji} />\n                </Pressable>\n              </View>\n            );\n          }}\n        />\n      </View>\n    </Modal>\n  );\n};\n\nconst styles = createStyleSheet({\n  container: {\n    overflow: 'hidden',\n    borderTopLeftRadius: 8,\n    borderTopRightRadius: 8,\n    paddingTop: 16,\n    paddingHorizontal: 18,\n    flexDirection: 'row',\n  },\n  modal: {\n    alignItems: 'center',\n    justifyContent: 'flex-end',\n  },\n  flatlist: {\n    width: '100%',\n    flexDirection: 'column',\n    justifyContent: 'space-between',\n  },\n  emojiItem: {\n    width: `${100 / NUM_COLUMN}%`,\n    alignItems: 'center',\n  },\n  button: {\n    width: 44,\n    height: 44,\n    padding: 4,\n    borderRadius: 8,\n  },\n  emoji: {\n    width: '100%',\n    height: '100%',\n  },\n});\n\nexport default ReactionListBottomSheet;\n"],"mappings":"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"}