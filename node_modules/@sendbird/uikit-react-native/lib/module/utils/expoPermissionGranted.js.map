{"version":3,"names":["expoPermissionGranted","stats","limitedCallback","every","res","accessPrivileges","granted","status","ios"],"sources":["expoPermissionGranted.ts"],"sourcesContent":["import type { NotificationPermissionsStatus } from 'expo-notifications';\n\nexport interface ExpoPermissionResponse {\n  canAskAgain: boolean;\n  granted: boolean;\n  status: 'denied' | 'granted' | 'undetermined';\n}\n\nexport interface ExpoMediaLibraryPermissionResponse extends ExpoPermissionResponse {\n  accessPrivileges?: 'all' | 'limited' | 'none';\n}\nexport interface ExpoPushPermissionResponse extends ExpoPermissionResponse, NotificationPermissionsStatus {}\n\nconst expoPermissionGranted = (\n  stats: Array<ExpoMediaLibraryPermissionResponse | ExpoPushPermissionResponse | ExpoPermissionResponse>,\n  limitedCallback?: () => void,\n) => {\n  return stats.every((res) => {\n    if ('accessPrivileges' in res) {\n      if (res.accessPrivileges === 'limited') limitedCallback?.();\n      return (\n        res.granted || res.status === 'granted' || res.accessPrivileges === 'all' || res.accessPrivileges === 'limited'\n      );\n    }\n    if ('ios' in res) {\n      // NOT_DETERMINED = 0,\n      // DENIED = 1,\n      // AUTHORIZED = 2,\n      // PROVISIONAL = 3,\n      // EPHEMERAL = 4,\n      return (\n        res.granted || res.status === 'granted' || (res.ios?.status && (res.ios.status === 2 || res.ios.status === 3))\n      );\n    }\n    return res.granted || res.status === 'granted';\n  });\n};\n\nexport default expoPermissionGranted;\n"],"mappings":"AAaA,MAAMA,qBAAqB,GAAG,CAC5BC,KAD4B,EAE5BC,eAF4B,KAGzB;EACH,OAAOD,KAAK,CAACE,KAAN,CAAaC,GAAD,IAAS;IAC1B,IAAI,sBAAsBA,GAA1B,EAA+B;MAC7B,IAAIA,GAAG,CAACC,gBAAJ,KAAyB,SAA7B,EAAwCH,eAAe,SAAf,IAAAA,eAAe,WAAf,YAAAA,eAAe;MACvD,OACEE,GAAG,CAACE,OAAJ,IAAeF,GAAG,CAACG,MAAJ,KAAe,SAA9B,IAA2CH,GAAG,CAACC,gBAAJ,KAAyB,KAApE,IAA6ED,GAAG,CAACC,gBAAJ,KAAyB,SADxG;IAGD;;IACD,IAAI,SAASD,GAAb,EAAkB;MAAA;;MAChB;MACA;MACA;MACA;MACA;MACA,OACEA,GAAG,CAACE,OAAJ,IAAeF,GAAG,CAACG,MAAJ,KAAe,SAA9B,IAA4C,aAAAH,GAAG,CAACI,GAAJ,sDAASD,MAAT,MAAoBH,GAAG,CAACI,GAAJ,CAAQD,MAAR,KAAmB,CAAnB,IAAwBH,GAAG,CAACI,GAAJ,CAAQD,MAAR,KAAmB,CAA/D,CAD9C;IAGD;;IACD,OAAOH,GAAG,CAACE,OAAJ,IAAeF,GAAG,CAACG,MAAJ,KAAe,SAArC;EACD,CAlBM,CAAP;AAmBD,CAvBD;;AAyBA,eAAeP,qBAAf"}