{"version":3,"names":["ASYNC_NOOP","InternalLocalCacheStorage","constructor","storage","getAllKeys","getItem","key","removeItem","setItem","value","multiGet","keys","Promise","all","map","multiRemove","multiSet","keyValuePairs"],"sources":["InternalLocalCacheStorage.ts"],"sourcesContent":["import { ASYNC_NOOP } from '@sendbird/uikit-utils';\n\nimport type { KeyValuePairGet, KeyValuePairSet, LocalCacheStorage } from '../types';\n\nexport default class InternalLocalCacheStorage implements LocalCacheStorage {\n  constructor(private storage: LocalCacheStorage) {}\n\n  getAllKeys() {\n    return this.storage.getAllKeys();\n  }\n\n  getItem(key: string) {\n    return this.storage.getItem(key);\n  }\n\n  removeItem(key: string) {\n    return this.storage.removeItem(key);\n  }\n\n  setItem(key: string, value: string) {\n    return this.storage.setItem(key, value);\n  }\n\n  async multiGet(keys: string[]) {\n    if (this.storage.multiGet) {\n      return this.storage.multiGet(keys);\n    } else {\n      return Promise.all(keys.map(async (key) => [key, await this.getItem(key)] as KeyValuePairGet));\n    }\n  }\n\n  async multiRemove(keys: string[]) {\n    if (this.storage.multiRemove) {\n      await this.storage.multiRemove(keys);\n    } else {\n      await Promise.all(keys.map(async (key) => this.removeItem(key)));\n    }\n  }\n\n  async multiSet(keyValuePairs: Array<KeyValuePairSet>) {\n    if (this.storage.multiSet) {\n      await this.storage.multiSet(keyValuePairs);\n    } else {\n      await Promise.all(keyValuePairs.map(([key, value]) => this.storage.setItem(key, value)));\n    }\n  }\n\n  clear = ASYNC_NOOP;\n  flushGetRequests = ASYNC_NOOP;\n}\n"],"mappings":";;AAAA,SAASA,UAAT,QAA2B,uBAA3B;AAIA,eAAe,MAAMC,yBAAN,CAA6D;EAC1EC,WAAW,CAASC,OAAT,EAAqC;IAAA,KAA5BA,OAA4B,GAA5BA,OAA4B;;IAAA,+BA0CxCH,UA1CwC;;IAAA,0CA2C7BA,UA3C6B;EAAE;;EAElDI,UAAU,GAAG;IACX,OAAO,KAAKD,OAAL,CAAaC,UAAb,EAAP;EACD;;EAEDC,OAAO,CAACC,GAAD,EAAc;IACnB,OAAO,KAAKH,OAAL,CAAaE,OAAb,CAAqBC,GAArB,CAAP;EACD;;EAEDC,UAAU,CAACD,GAAD,EAAc;IACtB,OAAO,KAAKH,OAAL,CAAaI,UAAb,CAAwBD,GAAxB,CAAP;EACD;;EAEDE,OAAO,CAACF,GAAD,EAAcG,KAAd,EAA6B;IAClC,OAAO,KAAKN,OAAL,CAAaK,OAAb,CAAqBF,GAArB,EAA0BG,KAA1B,CAAP;EACD;;EAEa,MAARC,QAAQ,CAACC,IAAD,EAAiB;IAC7B,IAAI,KAAKR,OAAL,CAAaO,QAAjB,EAA2B;MACzB,OAAO,KAAKP,OAAL,CAAaO,QAAb,CAAsBC,IAAtB,CAAP;IACD,CAFD,MAEO;MACL,OAAOC,OAAO,CAACC,GAAR,CAAYF,IAAI,CAACG,GAAL,CAAS,MAAOR,GAAP,IAAe,CAACA,GAAD,EAAM,MAAM,KAAKD,OAAL,CAAaC,GAAb,CAAZ,CAAxB,CAAZ,CAAP;IACD;EACF;;EAEgB,MAAXS,WAAW,CAACJ,IAAD,EAAiB;IAChC,IAAI,KAAKR,OAAL,CAAaY,WAAjB,EAA8B;MAC5B,MAAM,KAAKZ,OAAL,CAAaY,WAAb,CAAyBJ,IAAzB,CAAN;IACD,CAFD,MAEO;MACL,MAAMC,OAAO,CAACC,GAAR,CAAYF,IAAI,CAACG,GAAL,CAAS,MAAOR,GAAP,IAAe,KAAKC,UAAL,CAAgBD,GAAhB,CAAxB,CAAZ,CAAN;IACD;EACF;;EAEa,MAARU,QAAQ,CAACC,aAAD,EAAwC;IACpD,IAAI,KAAKd,OAAL,CAAaa,QAAjB,EAA2B;MACzB,MAAM,KAAKb,OAAL,CAAaa,QAAb,CAAsBC,aAAtB,CAAN;IACD,CAFD,MAEO;MACL,MAAML,OAAO,CAACC,GAAR,CAAYI,aAAa,CAACH,GAAd,CAAkB;QAAA,IAAC,CAACR,GAAD,EAAMG,KAAN,CAAD;QAAA,OAAkB,KAAKN,OAAL,CAAaK,OAAb,CAAqBF,GAArB,EAA0BG,KAA1B,CAAlB;MAAA,CAAlB,CAAZ,CAAN;IACD;EACF;;AAzCyE"}