{"version":3,"names":["React","useContext","useState","View","Icon","MenuBar","Switch","useUIKitTheme","useLocalization","GroupChannelModerationContexts","GroupChannelModerationMenu","onPressMenuBannedUsers","onPressMenuMutedMembers","onPressMenuOperators","menuItemsCreator","menu","channel","Fragment","STRINGS","colors","isFrozen","setIsFrozen","toggleFreeze","unfreeze","freeze","menuItems","icon","name","GROUP_CHANNEL_MODERATION","MENU_OPERATORS","onPress","actionItem","onBackground01","visible","isBroadcast","MENU_MUTED_MEMBERS","MENU_BANNED_USERS","MENU_FREEZE_CHANNEL","map","disabled","iconColor","iconBackgroundColor","actionLabel"],"sources":["GroupChannelModerationMenu.tsx"],"sourcesContent":["import React, { useContext, useState } from 'react';\nimport { View } from 'react-native';\n\nimport type { MenuBarProps } from '@sendbird/uikit-react-native-foundation';\nimport { Icon, MenuBar, Switch, useUIKitTheme } from '@sendbird/uikit-react-native-foundation';\n\nimport { useLocalization } from '../../../hooks/useContext';\nimport { GroupChannelModerationContexts } from '../module/moduleContext';\nimport type { GroupChannelModerationProps } from '../types';\n\nconst GroupChannelModerationMenu = ({\n  onPressMenuBannedUsers,\n  onPressMenuMutedMembers,\n  onPressMenuOperators,\n  menuItemsCreator = (menu) => menu,\n}: GroupChannelModerationProps['Menu']) => {\n  const { channel } = useContext(GroupChannelModerationContexts.Fragment);\n  const { STRINGS } = useLocalization();\n  const { colors } = useUIKitTheme();\n\n  const [isFrozen, setIsFrozen] = useState(() => channel.isFrozen);\n\n  const toggleFreeze = async () => {\n    if (channel.isFrozen) {\n      await channel.unfreeze();\n    } else {\n      await channel.freeze();\n    }\n\n    setIsFrozen(channel.isFrozen);\n  };\n\n  const menuItems: MenuBarProps[] = menuItemsCreator([\n    {\n      icon: 'operator',\n      name: STRINGS.GROUP_CHANNEL_MODERATION.MENU_OPERATORS,\n      onPress: () => onPressMenuOperators(),\n      actionItem: <Icon icon={'chevron-right'} color={colors.onBackground01} />,\n    },\n    {\n      icon: 'mute',\n      visible: !channel.isBroadcast,\n      name: STRINGS.GROUP_CHANNEL_MODERATION.MENU_MUTED_MEMBERS,\n      onPress: () => onPressMenuMutedMembers(),\n      actionItem: <Icon icon={'chevron-right'} color={colors.onBackground01} />,\n    },\n    {\n      icon: 'ban',\n      name: STRINGS.GROUP_CHANNEL_MODERATION.MENU_BANNED_USERS,\n      onPress: () => onPressMenuBannedUsers(),\n      actionItem: <Icon icon={'chevron-right'} color={colors.onBackground01} />,\n    },\n    {\n      icon: 'freeze',\n      visible: !channel.isBroadcast,\n      name: STRINGS.GROUP_CHANNEL_MODERATION.MENU_FREEZE_CHANNEL,\n      actionItem: <Switch value={isFrozen} onChangeValue={toggleFreeze} />,\n      onPress: toggleFreeze,\n    },\n  ]);\n\n  return (\n    <View>\n      {menuItems.map((menu) => {\n        return (\n          <MenuBar\n            key={menu.name}\n            onPress={menu.onPress}\n            name={menu.name}\n            disabled={menu.disabled}\n            visible={menu.visible}\n            icon={menu.icon}\n            iconColor={menu.iconColor}\n            iconBackgroundColor={menu.iconBackgroundColor}\n            actionLabel={menu.actionLabel}\n            actionItem={menu.actionItem}\n          />\n        );\n      })}\n    </View>\n  );\n};\n\nexport default GroupChannelModerationMenu;\n"],"mappings":"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"}